<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Permission Management</title>
    <link rel="stylesheet" href="css/common.css" />
    <script src="js/permissions.js" defer></script>
</head>
<body>

<div class="top-nav">
    <button onclick="location.href='users.html'">Users</button>
    <button onclick="location.href='roles.html'">Roles</button>
    <button onclick="location.href='permissions.html'">Permissions</button>
    <button onclick="location.href='user_roles.html'">User Roles</button>
    <button onclick="location.href='role_permissions.html'">Role Permissions</button>
</div>

<h1>Quản lý quyền (Permissions)</h1>

<div class="search-bar">
    <input
        id="searchKeyword"
        placeholder="Tìm theo code, tên quyền, module, mô tả"
        onkeydown="if(event.key==='Enter'){searchPermissions();}"
    />
    <button onclick="searchPermissions()">Tìm kiếm</button>
    <button onclick="clearSearch()">Xóa lọc</button>
</div>

<h2>Tạo permission mới</h2>
<form class="form-row" onsubmit="createPermission(event)">
    <input id="permissionCode" placeholder="Permission Code" required />
    <input id="permissionName" placeholder="Tên quyền" required />
    <input id="module" placeholder="Module (STUDENT...)" required />
    <input id="description" placeholder="Mô tả" />
    <button type="submit">Tạo permission</button>
</form>

<div class="filter-row">
    <button class="primary" onclick="loadPermissions()">Tải danh sách permission</button>
    <select id="filterModule" onchange="loadByModule()">
        <option value="">-- Lọc theo module --</option>
    </select>
</div>

<table id="permissionTable">
    <thead>
        <tr>
            <th>Code</th>
            <th>Tên quyền</th>
            <th>Module</th>
            <th>Mô tả</th>
            <th>Active</th>
            <th>Hành động</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

</body>
</html>
